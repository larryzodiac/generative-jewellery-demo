(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),s=a.n(i),o=(a(71),a(39)),c=a(4),l=a(7),d=a(9),m=a(8),h=a(10),p=a(11),u=a(40),g=a.n(u),w=a(26),v=a.n(w),b=a(3),f=a.n(b),y=a(59),_=a.n(y),C=a(60),j=a.n(C),E=a(1),x=function(e,t,a,n,r,i){var s,o=Math.min(e,t),c=Math.max(e,t),l=o+"_"+c;l in n?s=n[l]:(s={a:a[o],b:a[c],newEdgePoint:null,faces:[]},n[l]=s);s.faces.push(r),i[e].edges.push(s),i[t].edges.push(s)},O=function(e,t,a,n,r){return e.push(new E.Face3(t,a,n,void 0,void 0,r))},k=function(e,t,a){return a[Math.min(e,t)+"_"+Math.max(e,t)]},N=function(e,t,a,n){e.push([t.clone(),a.clone(),n.clone()])},S=function(e,t){return Math.abs(t-e)/2+Math.min(e,t)},D=function e(t,a,n,r){Object(c.a)(this,e),this.subdivisions=void 0===t?1:t,this.adjacent_weight=a,this.edge_point_weight=n,this.connecting_edges_weight=r};D.prototype.modify=function(e){(e=e.clone()).mergeVertices();for(var t=this.subdivisions,a=0;a<t;a++)this.subdivide(e);return e.computeFaceNormals(),e.computeVertexNormals(),e},D.prototype.subdivide=function(e){var t,a,n=e.vertices,r=e.faces,i=e.faceVertexUvs[0],s=[],o=new E.Vector3,c=void 0!==i&&i.length>0,l=new Array(n.length),d={};!function(e,t,a,n){for(var r=0;r<e.length;r++)a[r]={edges:[]};for(var i=0;i<t.length;i++)x(t[i].a,t[i].b,e,n,t[i],a),x(t[i].b,t[i].c,e,n,t[i],a),x(t[i].c,t[i].a,e,n,t[i],a)}(n,r,l,d);var m,h,p,u,g,w,v,b,f,y,_=[],C=this.adjacent_weight,j=this.edge_point_weight,D=["a","b","c"];for(var I in d){p=d[I],h=new E.Vector3,g=p.faces.length,h.addVectors(p.a,p.b).multiplyScalar(j),o.set(0,0,0);for(var P=0;P<g;P++){u=p.faces[P];for(var M=0;M<3&&((m=n[u[D[M]]])===p.a||m===p.b);M++);o.add(m)}o.multiplyScalar(C),h.add(o),p.newEdgePoint=_.length,_.push(h)}for(var L,G,H,T=[],V=0;V<n.length;V++){f=n[V],b=l[V].edges;var A=this.connecting_edges_weight;H=L=3/(8*A),G=1-A*L,y=f.clone().multiplyScalar(G),o.set(0,0,0);for(var F=0;F<A;F++)v=(w=b[F]).a!==f?w.a:w.b,o.add(v);o.multiplyScalar(H),y.add(o),T.push(y)}t=T.concat(_);var z,R,W,B,U,J,q,K=T.length;a=[];for(var Q=new E.Vector2,X=new E.Vector2,Y=new E.Vector2,Z=0;Z<r.length;Z++)u=r[Z],z=k(u.a,u.b,d).newEdgePoint+K,R=k(u.b,u.c,d).newEdgePoint+K,W=k(u.c,u.a,d).newEdgePoint+K,O(a,z,R,W),O(a,u.a,z,W),O(a,u.b,R,z),O(a,u.c,W,R),c&&(U=(B=i[Z])[0],J=B[1],q=B[2],Q.set(S(U.x,J.x),S(U.y,J.y)),X.set(S(J.x,q.x),S(J.y,q.y)),Y.set(S(U.x,q.x),S(U.y,q.y)),N(s,Q,X,Y),N(s,U,Q,Y),N(s,J,X,Q),N(s,q,Y,X));e.vertices=t,e.faces=a,c&&(e.faceVertexUvs[0]=s)};var I,P,M,L,G,H,T,V=D,A=a(61),F=a(163),z=a(75)(E),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).start=function(){a.frameId||(a.frameId=requestAnimationFrame(a.update))},a.stop=function(){cancelAnimationFrame(a.frameId)},a.update=function(){a.renderer.render(a.scene,a.camera),a.controls.update(),a.frameId=window.requestAnimationFrame(a.update)},a.handleResize=function(){var e=window.innerWidth,t=window.innerHeight;a.renderer.setSize(e,t),a.camera.aspect=e/t,a.camera.updateProjectionMatrix()},a.getGeometry=function(e,t){var n;switch(a.props.geometry){case"Cone":n=new E.ConeGeometry(e,t);break;case"Cube":n=new E.BoxGeometry(e,t);break;case"Cylinder":n=new E.CylinderGeometry(e,t);break;case"Dodecahedron":n=new E.DodecahedronGeometry(e,t);break;case"Icosahedron":n=new E.IcosahedronGeometry(e,t);break;case"Octahedron":n=new E.OctahedronGeometry(e,t);break;case"Tetrahedron":n=new E.TetrahedronGeometry(e,t);break;case"Torus":n=new E.TorusGeometry(e,t);break;default:n=new E.BoxGeometry(e,t)}return n},a.getPlane=function(e,t){var a=new E.PlaneBufferGeometry(e,t),n=new E.MeshPhongMaterial({side:E.DoubleSide});n.color.setHex(16768515);var r=new E.Mesh(a,n);return r.rotation.x=-1.5708,r.position.y=-2,r.receiveShadow=!0,r},a.generateSubdivision=function(e){var t=new V(a.props.subdivisions,a.props.adjacent_weight,a.props.edge_point_weight,a.props.connecting_edges_weight),n=new E.MeshPhongMaterial({wireframe:a.props.wireframe});n.color.setHex(16712294);var r=e.parameters;r.scale&&e.scale(r.scale,r.scale,r.scale),H=t.modify(e);var i=new E.Mesh(H,n);return i.scale.setScalar(r.meshScale?r.meshScale:1),i.name="".concat(a.props.geometry),i.castShadow=!0,i.receiveShadow=!1,i},a.export=function(e){var t=F.fromGeometry(e),a=new Blob([t],{type:F.mimeType});Object(A.saveAs)(a,"shape.stl")},a.getGeometry=a.getGeometry.bind(Object(p.a)(Object(p.a)(a))),a.generateSubdivision=a.generateSubdivision.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=window.innerWidth,t=window.innerHeight;(I=new E.Scene).background=new E.Color(16768515),(P=new E.PerspectiveCamera(75,e/t,1,1e3)).position.z=3,P.position.y=1,P.lookAt(new E.Vector3(0,0,0));var a=new E.HemisphereLight(16777215,16777215,.6);a.position.set(0,100,0),I.add(a);var n=new E.HemisphereLightHelper(a,10);I.add(n);var r=new E.DirectionalLight(16777215,.4);r.position.set(-.5,1.75,.5),r.position.multiplyScalar(50),r.castShadow=!0,I.add(r),r.shadow.mapSize.width=2048,r.shadow.mapSize.height=2048,r.shadow.camera.near=.5,r.shadow.camera.far=500;var i=new E.DirectionalLightHelper(r,10);I.add(i);var s=this.getPlane(1e3,1e3);I.add(s),T=this.getGeometry(1),G=this.generateSubdivision(T),I.add(G),(M=new E.WebGLRenderer({antialias:!0})).setSize(e,t),M.shadowMap.enabled=!0,M.shadowMap.type=E.PCFSoftShadowMap,(L=new z(P,M.domElement)).enablePan=!1,L.enableKeys=!1,L.enableDamping=!0,L.dampingFactor=.05,L.rotateSpeed=.1,L.maxDistance=5,L.minDistance=2,L.maxPolarAngle=1.8,window.addEventListener("resize",this.handleResize),this.scene=I,this.camera=P,this.renderer=M,this.controls=L,this.shape=G,this.mount.appendChild(this.renderer.domElement),this.start()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&(I.remove(G),G.geometry.dispose(),G.material.dispose(),T=this.getGeometry(1),(G=this.generateSubdivision(T)).material.wireframe=this.props.wireframe,I.add(G)),this.props.exportClicked!==e.exportClicked&&this.export(G.geometry)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize"),this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"canvas",ref:function(t){e.mount=t}})}}]),t}(n.Component),W=a(62),B=a.n(W),U=a(41),J=a.n(U),q=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(b.ListItem,{className:"drawer-list-item"},r.a.createElement(b.ListItemText,{primaryText:this.props.name}),r.a.createElement(b.ListItemMeta,{meta:r.a.createElement(J.a,{className:"radio-alternate",wrapperClasses:"mdc-list-item__meta"},r.a.createElement(U.NativeRadioControl,{name:"geometry",value:this.props.name,id:this.props.name,onChange:this.props.onChange}))}))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={checked:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[{name:"Cone",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00153748_Profile.jpg"},{name:"Cube",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00153748_Profile.jpg"},{name:"Cylinder",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00150552_Profile.jpg"},{name:"Dodecahedron",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00150552_Profile.jpg"},{name:"Icosahedron",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00150552_Profile.jpg"},{name:"Octahedron",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00153748_Profile.jpg"},{name:"Tetrahedron",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00152737_Profile.jpg"},{name:"Torus",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00153748_Profile.jpg"}].map(function(t){return r.a.createElement(q,{key:t.name,name:t.name,image:t.image,onChange:e.props.onChange})});return r.a.createElement(r.a.Fragment,null,t,r.a.createElement(b.ListItem,{className:"drawer-list-item"},r.a.createElement(b.ListItemText,{primaryText:"Wireframe"}),r.a.createElement(b.ListItemMeta,{meta:r.a.createElement(B.a,{className:"checkbox-alternate",name:"wireframe",checked:this.state.checked,value:this.state.checked,onChange:this.props.onChange})})))}}]),t}(n.Component),Q=a(64),X=a.n(Q),Y=a(63),Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={value:0},a.sliderRef=r.a.createRef(),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.slider=new Y.MDCSlider(this.sliderRef.current)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.ListItem,{className:"drawer-list-item"},r.a.createElement(b.ListItemText,{primaryText:this.props.label}),r.a.createElement(b.ListItemMeta,{meta:"".concat(this.props.value)})),r.a.createElement(b.ListItem,{id:this.props.name,className:"drawer-slider"},r.a.createElement(X.a,{classes:{thumb:"drawer-slider-material",trackBefore:"drawer-slider-material"},min:this.props.min,max:this.props.max,step:this.props.step,value:this.props.value,"aria-labelledby":"label",onChange:this.props.onChange})),r.a.createElement("div",{ref:this.sliderRef,className:"slider-div mdc-slider",tabIndex:"0",role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-label":"Select Value"},r.a.createElement("div",{className:"mdc-slider__track-container"},r.a.createElement("div",{className:"mdc-slider__track"})),r.a.createElement("div",{className:"mdc-slider__thumb-container"},r.a.createElement("svg",{className:"mdc-slider__thumb",width:"21",height:"21"},r.a.createElement("circle",{cx:"10.5",cy:"10.5",r:"7.875"})),r.a.createElement("div",{className:"mdc-slider__focus-ring"}))))}}]),t}(r.a.Component),$=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[{label:"Subdivisions",name:"subdivisions",value:this.props.subdivisions,min:0,max:5,step:1},{label:"Adjacent Weight",name:"adjacent_weight",value:this.props.adjacent_weight,min:0,max:1,step:null},{label:"Edge-Point Weight",name:"edge_point_weight",value:this.props.edge_point_weight,min:0,max:1,step:null},{label:"Connecting Edges Weight",name:"connecting_edges_weight",value:this.props.connecting_edges_weight,min:1,max:7,step:1}].map(function(t){return r.a.createElement(Z,{key:t.name,label:t.label,name:t.name,value:t.value,onChange:e.props.onChange,min:t.min,max:t.max,step:t.step})});return r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component),ee=(a(161),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).toggleDrawer=function(){a.setState(function(e){return{drawerOpen:!e.drawerOpen}})},a.handleChange=function(e,t){var n=e.target.id,r="checkbox"===e.target.type?"wireframe":e.target.name,i="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(o.a)({},r,i)),(t||0===t)&&a.setState(Object(o.a)({},n,t))},a.handleClick=function(){a.setState(function(e){return{exportClicked:e.exportClicked+1}})},a.state={drawerOpen:!0,exportClicked:!1,geometry:"Cube",wireframe:!1,subdivisions:0,adjacent_weight:.125,edge_point_weight:.375,connecting_edges_weight:5},a.toggleDrawer=a.toggleDrawer.bind(Object(p.a)(Object(p.a)(a))),a.handleClick=a.handleClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"drawer-container"},r.a.createElement(v.a,{className:"drawer-alternate",dismissible:!0,open:this.state.drawerOpen},r.a.createElement(w.DrawerHeader,{className:"drawer-title"},r.a.createElement(w.DrawerTitle,{tag:"h2"},"Menu")),r.a.createElement(w.DrawerContent,null,r.a.createElement(b.ListGroup,null,r.a.createElement(f.a,{nonInteractive:!0},r.a.createElement(K,{geometry:this.state.geometry,wireframe:this.state.wireframe,onChange:this.handleChange})),r.a.createElement(b.ListDivider,{className:"drawer-divider"}),r.a.createElement(f.a,{nonInteractive:!0},r.a.createElement($,{subdivisions:this.state.subdivisions,adjacent_weight:this.state.adjacent_weight,edge_point_weight:this.state.edge_point_weight,connecting_edges_weight:this.state.connecting_edges_weight,onChange:this.handleChange})),r.a.createElement(b.ListDivider,{className:"drawer-divider"}),r.a.createElement(f.a,{nonInteractive:!0},r.a.createElement(b.ListItem,{className:"drawer-list-item"},r.a.createElement(_.a,{className:"button-alternate-clear",outlined:!0,onClick:this.handleClick},"Download .stl")))))),r.a.createElement(w.DrawerAppContent,{className:"drawer-app-content"},r.a.createElement(g.a,{title:"Generative Jewellery",className:"top-app-bar-alternate",navigationIcon:r.a.createElement(j.a,{icon:"menu",onClick:this.toggleDrawer})}),r.a.createElement(u.TopAppBarFixedAdjust,null,r.a.createElement(R,{geometry:this.state.geometry,subdivisions:this.state.subdivisions,adjacent_weight:this.state.adjacent_weight,edge_point_weight:this.state.edge_point_weight,connecting_edges_weight:this.state.connecting_edges_weight,wireframe:this.state.wireframe,exportClicked:this.state.exportClicked}))))}}]),t}(n.Component));s.a.render(r.a.createElement(ee,null),document.getElementById("root"))},66:function(e,t,a){e.exports=a(162)},71:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.8a1901c5.chunk.js.map